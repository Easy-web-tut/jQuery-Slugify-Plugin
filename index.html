<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>untitled</title>
	<meta name="author" content="Patrick McElhaney">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>    
  <script type="text/javascript" charset="utf-8">
    
    
    jQuery.fn.slugify = function (source, options) {
      var $target = $(this);            
      var $source = $(source);            
      
    	var settings = jQuery.extend({
           slugFunc: (function (val, originalFunc) { return originalFunc(val); })
        }, options);
    	             
  	  var defaultSlugFunc = function(url) {
        if (!url) return '';
      	return url.replace(/'/g, '').replace(/\s*&\s*/g, ' and ').replace(/[^A-Za-z0-9]+/g, '-').replace(/^-|-$/g, '').toLowerCase();
      } 
    	
      var setLock = function () {
        if($target.val() != null && $target.val() != '') {
          $target.addClass('slugify-locked');
        } else {
          $target.removeClass('slugify-locked');
        }
      }   

      var updateSlug = function () {
    		if(!$target.hasClass('slugify-locked')) {
    			$target.val(settings.slugFunc($(this).val(), defaultSlugFunc));		
    		}
    	}     
      
                                    
      if($target.val() != null && $target.val() != '') {
        $target.addClass('slugify-locked');
      }     
                               
           
      $source.keyup( updateSlug );  
      $source.change( updateSlug ); 
      
    	$target.change(function () {       
        $target.val(settings.slugFunc($target.val(), defaultSlugFunc)); 
        setLock();
      });   
            
      setLock();         

    };
    
    $().ready(function () {
      $('#slug').slugify('#title');
    });      
                                  
  </script>
</head>
<body>                      
  
  
<form>
  <label for="title">Title</label><input type="text" name="title" value="title" id="title">
  <label for="slug" >Slug</label><input type="slug" name="slug" value="" id="slug">
  
  
</form>
         


</body>
</html>
                                     